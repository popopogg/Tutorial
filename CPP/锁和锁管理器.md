# C++ 锁管理器使用（mutex / shared_mutex）

 `std::mutex` 与 `std::shared_mutex`，配合 `std::unique_lock`、`std::shared_lock`、`std::scoped_lock` 等 RAII 风格锁管理器，进行线程同步。

---

## 基本锁类型

| 类型            | 支持读共享 | 支持写互斥 | 多线程读 | 多线程写 | 支持递归 |
|-----------------|-------------|-------------|-----------|-----------|------------|
| `std::mutex`    | ❌          | ✅          | ❌        | ✅（互斥）| ❌         |
| `std::shared_mutex` | ✅     | ✅          | ✅（共享锁）| ✅（独占锁）| ❌         |

---

## 锁管理器对比

| 锁管理器         | 用于哪个锁类型       | 支持共享锁 | 支持独占锁 | 特点                             |
|------------------|----------------------|--------------|--------------|----------------------------------|
| `std::unique_lock` | 所有（常用于 mutex）  | ❌           | ✅           | 最灵活，支持延迟加锁/手动解锁   |
| `std::shared_lock` | 仅用于 `shared_mutex` | ✅           | ❌           | 多线程读，不能写                 |
| `std::scoped_lock` | 所有（C++17 及以上） | ❌           | ✅           | 简洁 RAII 多锁支持               |

---
